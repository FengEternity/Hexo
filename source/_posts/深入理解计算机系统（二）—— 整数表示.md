---
title: 深入理解计算机系统（二）——整数表示
date: 2025/3/27
tags:
  - cpp
  - 操作系统
categories: [计算机体系结构]
cover: https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/2332f23507cda82458edd3e4de5acbc5bac632ef1b139-MmjdkO_fw1200.jpeg
banner: https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/2332f23507cda82458edd3e4de5acbc5bac632ef1b139-MmjdkO_fw1200.jpeg
katex: true
mathjax: true
author: Montee
type: tech
description: 本文深入探讨了计算机系统中信息的表示和处理，包括无符号、补码和浮点数三种数字表示方式，以及信息存储、字节顺序、字符串和代码表示。文章强调了字长的重要性，解释了十六进制表示法，并讨论了字节顺序对数据存储的影响。通过C语言程序示例，展示了不同数据类型在内存中的存储方式，验证了小端存储模式，并探讨了布尔代数和位级运算在C语言中的应用。
topic: csapp
---

![image.png](https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/20250327220619.png)
> 该图用于后续计算参考

### 2.2.1 整型数据类型
![image.png](https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/20250327220822.png)
![image.png](https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/20250327220834.png)
![image.png](https://blog-imges-1313931661.cos.ap-nanjing.myqcloud.com/20250327221012.png)

### 2.2.2 无符号的编码

### 2.2.3 补码编码
补码编码用于表示负整数。

> 原码,补码,反码概念和计算方法详解：https://www.itheima.com/news/20200116/103436.html

### 2.2.4 有符号数和无符号数之间的转换

```CPP
#include<stdio.h> 

int main() {
	short int v = -123456;
	unsigned short uv = (unsigned short) v;
	printf("v = %d, uv = %u\n", v, uv);
	return 0;
}       
```

上面的代码使用GCC编译运行结果为`v = -12345, uv = 53191`，有意思的是，当我输出这两个数的十六进制时，得到的结果是完全一样的。
```cpp
#include <stdio.h>

void show_hex(short int x) {
    printf("十六进制表示: 0x%.4x\n", (unsigned short)x);
}

int main() {
    short int v = -12345;
    unsigned short uv = (unsigned short) v;
    printf("v = %d, uv = %u\n", v, uv); // 这个例子很好的解释了为什么需要格式说明符

    show_hex(v);
    show_hex(uv);

    return 0;
}
```

输出结果为：
```
v = -12345, uv = 53191
十六进制表示: 0xffffcfc7
十六进制表示: 0xffffcfc7
```
原因是：
在16位系统中，这两个数在内存中的位模式完全相同： 1100 1111 1100 0111 (0xCFC7)，区别仅在于解释方式：

* 作为有符号数时：最高位1表示负数，值为-12345
- 作为无符号数时：纯二进制值，等于53191

这个现象很好地展示了计算机中数据表示的本质：**数据的位模式（binary pattern）是固定的，而其具体值取决于我们如何解释这些位。**

### 2.2.5 C语言中的有符号数与无符号数
尽管C语言标准没有指定有符号数要采用某种方式，但是**几乎所有的机器都使用补码**。