---
title: 蓝牙开发综合介绍
date: 2025/6/27
tags:
  - 操作系统
  - 驱动开发
  - 蓝牙
  - linux
categories:
  - 技术学习
author: Forsertee
type: tech
description: 本文简要介绍蓝牙技术，从基础概念到发展历程，较为详细梳理蓝牙协议栈的分层设计（应用层、Host主机层、Controller控制层），重点分析HCI接口的核心作用及开发关注点。通过版本迭代时间线（1.0至6.0）和典型应用场景对比，揭示蓝牙"更低功耗、更高性能、更广覆盖"的技术演进路径。针对开发者，特别指出驱动开发需聚焦Host模块（GATT/L2CAP协议）与Controller硬件适配的实践要点，为Linux/嵌入式系统下的蓝牙开发提供技术框架参考。
---

> 注：本篇文章大量摘抄自http://www.wowotech.net/sort/bluetooth/page/2，在此基础上进行了一些个人的理解与学习
# 一、基本概念
蓝牙技术是当前最普及的**短距离无线通信技术**之一，支持设备在短距离内低功耗、低成本的惊喜传输信息。它利用短程无线链路取代专用电缆，便于人们在室内或户外流动操作。

其核心特点如下：
* 短距离通信：典型通信距离为10米，通过提高发射功率可扩展至100米
* 低功耗设计：特别是BLE(Bluetooth Low Energy)技术，适合电池供电设备长期工作
* 全球通用频段：工作在2.4GHz ISM(工业、科学、医疗)频段(2400-2483.5MHz)，无需许可证
* 抗干扰能力强：采用跳频扩频技术(FHSS)，将2.4GHz频段划分为79个1MHz信道(经典蓝牙)或40个2MHz信道(BLE)，每秒1600次跳频
* 多样化连接：支持点对点和点对多点通信，可实现多种网络拓扑
# 二、发展历程
蓝牙技术由蓝牙技术联盟(Bluetooth SIG)负责维护和推广，该组织成立于1998年，创始成员包括爱立信、英特尔、诺基亚、东芝和IBM等公司。截至2025年，蓝牙SIG已拥有超过3万家成员公司，涵盖了电信、计算机、网络与消费电子等多个领域。

蓝牙技术的发展围绕着**更低功耗、更高性能、更广覆盖**三大方向可以分为四个主要阶段，分别是：早期发展阶段（1999-2003）、性能提升阶段（2004-2009）、低功耗阶段（2021-2014）和全场景覆盖阶段（2016-2023）。

| **版本**​           | ​**发布时间**​ | ​**主要特性与改进**​                                  | ​**应用场景**​               |
| ----------------- | ---------- | ---------------------------------------------- | ------------------------ |
| ​**蓝牙1.0-1.2**​   | 1999-2003  | 初始版本，传输速率约1 Mbps；1.2版增加自适应跳频(AFH)和匿名模式，提升抗干扰能力 | 早期无线耳机、手机文件传输            |
| ​**蓝牙2.0+EDR**​   | 2004       | 引入增强数据速率(EDR)，速率达3 Mbps，支持双工模式                 | 无线键盘、鼠标、立体声音频设备          |
| ​**蓝牙2.1+EDR**​   | 2007       | 简化配对流程(SSP)，支持NFC快速配对，Sniff省电功能降低功耗            | 移动设备外设连接                 |
| ​**蓝牙3.0+HS**​    | 2009       | 结合WiFi技术实现24 Mbps高速传输，但需额外硬件支持                 | 高清视频/图片传输                |
| ​**蓝牙4.0(BLE)​**​ | 2010       | 革命性引入低功耗蓝牙(BLE)，功耗降低90%，传输距离达100米              | 可穿戴设备、智能家居、医疗传感器         |
| ​**蓝牙4.1-4.2**​   | 2013-2014  | 改进与LTE共存性，支持IPv6直连，数据速率提升2.5倍                  | 物联网设备联网                  |
| ​**蓝牙5.0**​       | 2016       | 传输距离达300米，速度翻倍(2 Mbps)，支持Mesh组网                | 智能家居、室内定位、大规模设备组网        |
| ​**蓝牙5.1-5.3**​   | 2019-2021  | 5.1新增AoA/AoD厘米级定位；5.2引入LE Audio；5.3优化延迟与稳定性    | AR/VR、真无线耳机(TWS)、实时音视频同步 |
| ​**蓝牙5.4**​       | 2023       | 强化Mesh网络能力，支持加密广播和响应式周期广播(PAwR)                | 工业物联网、智慧城市、远程医疗          |
| ​**蓝牙6.0**​       | 2024(预测)   | 整合UWB级测距技术，支持AI抗干扰与更高带宽实时传输                    | AR/VR、车联网、智能工厂（尚未正式发布）   |

# 三、蓝牙技术概述

## 3.1 两种蓝牙技术

蓝牙协议包括两种技术：Basic Rate（简称BR）和Low Energy（简称LE）。这两种技术，都包括搜索（discovery）管理、连接（connection）管理等机制，但**它们是不能互通的**！

厂商要么实现这两种技术中的一种，这时就只能和同样实现了这个技术的设备互通，而不能和实现另外一种技术的设备互通。如果厂商要确保能和所有的蓝牙设备互通，那么就只能同时实现两种技术，而不去管是否真的需要，这样就能碰到什么人说什么话了！
### 3.1.1 Basic Rate（BR）

Basic Rate是正宗的蓝牙技术，可以包括**可选（optional）** 的EDR（Enhanced Data Rate）技术，以及**交替使用的（Alternate）** 的MAC（Media Access Control）层和PHY层扩展（简称AMP）。

### 3.1.2 Low Energy（LE）

上面所讲的BR技术的进化路线，就是传输速率的加快、加快、再加快。但能量是守恒的，你想传的更快，代价就是消耗更多的能量。而有很多的应用场景，并不关心传输速率，反而非常关心功耗。这就是Bluetooth LE（称作蓝牙低功耗）产生的背景。

LE技术相比BR技术，差异非常大，或者说就是两种不同的技术，凑巧都加一个“蓝牙”的前缀而已。后面我们会详细的解释这种差异，以及LE的行为特征。

## 3.2 蓝牙系统组成

![image.png](https://blog-image-0407-1313931661.cos.ap-nanjing.myqcloud.com/20250628150621086.png?imageSlim)

上图展示了蓝牙系统的分层架构设计，包括顶层 Bluetooth Application（蓝牙应用）、中间层Host（主机）和底层Bluetooth Core（蓝牙核心）。
顶层的Bluetooth Application是用户直接交互的部分，包含了各种的蓝牙场景（如无线音频、数据传输、设备控制等），其通过调用**主机（Host）** 提供的接口实现相关功能，不直接接触底层协议；

中间的Host是整个蓝牙协议栈的“大脑”，负责多项核心功能，如协议处理、数据管理与控制器通信；

而底层的Bluetooth Core分为Primary Controller（主控制器） 和Multiple Secondary Controllers（多个从控制器），主要用于底层无线信号的处理（如调制调频、跳频、包组装等）。

需要注意的是，在一个系统中，Host只有一个，但Controller可以一个，也可以有多个。Host也并不属于Bluetooth Core，蓝牙技术联盟（SIG）明确定义了**HCI（主机控制器接口）​**作为Host与Controller的分界线，二者通过HCI指令交互（如UART/USB传输），如在智能手机中，Android系统提供Host层功能，而高通/博通的蓝牙芯片提供Controller功能。

对于驱动开发者来说，通常更应该关注Host模块，但具体关注点取决于开发目标和应用场景。

# 四、BR/EDR vs LE vs AMP

下面这张图是为了对BR/EDR、LE 和AMP三种技术有一个初步的认识，在后面将会更加深入的学习。
![](https://www-x-wowotech-x-net.img.addlink.cn/content/uploadfile/201406/eaf01404028766.gif)
